{% extends "layout.njk" %}

{% from "./sections/component.njk" import component %}

{% block body %}
  <div class="{{ pageType }}">
  {% for section in sections %}

    {% set name = section.component %}
    {% set params = section %}
    
    <section class="section-wrapper{% if section.inContainer %} inContainer{% endif %}{% if section.marginTop %} marginTop{% endif %}{% if section.marginBottom %} marginBottom{% endif %}">
      {{ component(name, params, site, customers, testimonials, allSortedBlogPosts) }}
    </section>

  {% else %}
    <p class="error-message">There are no sections available</p>
  {% endfor %}
  </div>
{% endblock %}